<form nz-form [formGroup]="prepareDatasetForm" nzLayout="vertical" (ngSubmit)="formValid()"
      style="justify-content: space-between; display: flex; flex-wrap: wrap">
  <nz-form-item style="width: 100%; display: block">
    <nz-form-label nzFlex="1" >Dataset Folder :</nz-form-label>
    <nz-form-control nzFlex="1" nzHasFeedback [nzErrorTip]="datasetErrorTpl">
      <nz-select formControlName="dataset_name" nzPlaceHolder="Dataset Folder"
                 nz-tooltip="The name of the folder containing the images and labels to be used in the training job" nzTooltipPlacement="topRight" nzShowSearch nzAllowClear>
        <nz-option *ngFor="let datasets of availableFoldersKeys" [nzLabel]="datasets" [nzValue]="datasets"></nz-option>
      </nz-select>
      <ng-template #datasetErrorTpl let-control>
        <ng-container *ngIf="control.hasError('required')">
          Please choose a dataset folder!
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>

    <nz-form-item class="split-ratio-form-item">
      <nz-form-label nzFlex="1">Training (%) :</nz-form-label>
      <nz-form-control nzFlex="1" nzHasFeedback [nzErrorTip]="trainingErrorTpl">
        <nz-input-number
          nz-tooltip="The percentage of the dataset images needed for training"
          nzTooltipPlacement="bottomRight"
          formControlName="training_ratio"
          style="width: 100%"
          nzPlaceHolder="Training (%)"
          [nzMin]="1"
          [nzMax]="100"
          [nzStep]="1"
          [nzParser]="parserPercent"
        ></nz-input-number>
        <ng-template #trainingErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            Please enter a number
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="split-ratio-form-item">
      <nz-form-label nzFlex="1">Validation (%) :</nz-form-label>
      <nz-form-control nzFlex="1" nzHasFeedback [nzErrorTip]="validationErrorTpl">
        <nz-input-number
          nz-tooltip="The percentage of the dataset images needed for validation"
          nzTooltipPlacement="bottomRight"
          formControlName="validation_ratio"
          style="width: 100%"
          nzPlaceHolder="Validation (%)"
          [nzMin]="1"
          [nzMax]="100"
          [nzStep]="1"
          [nzParser]="parserPercent"
        ></nz-input-number>
        <ng-template #validationErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            Please enter a number
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="split-ratio-form-item">
      <nz-form-label nzFlex="1">Testing (%) :</nz-form-label>
      <nz-form-control nzFlex="1" nzHasFeedback [nzErrorTip]="testingErrorTpl">
        <nz-input-number
          nz-tooltip="The percentage of the dataset images needed for testing"
          nzTooltipPlacement="bottomRight"
          formControlName="testing_ratio"
          style="width: 100%"
          nzPlaceHolder="Testing (%)"
          [nzMin]="1"
          [nzMax]="100"
          [nzStep]="1"
          [nzParser]="parserPercent"
        ></nz-input-number>
        <ng-template #testingErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            Please enter a number
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

</form>
